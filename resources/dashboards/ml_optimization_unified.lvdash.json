{
  "datasets": [
    {
      "name": "m0_ds_routing",
      "displayName": "Solution Performance",
      "queryLines": [
        "SELECT payment_solution, transaction_count, approved_count, approval_rate_pct, avg_fraud_score, avg_amount, total_value, avg_latency_ms FROM __CATALOG__.__SCHEMA__.v_solution_performance ORDER BY transaction_count DESC"
      ]
    },
    {
      "name": "m0_ds_card_network",
      "displayName": "Card Network Performance",
      "queryLines": [
        "SELECT card_network, transaction_count, approval_rate_pct, avg_amount, avg_fraud_score, avg_latency_ms FROM __CATALOG__.__SCHEMA__.v_card_network_performance ORDER BY transaction_count DESC"
      ]
    },
    {
      "name": "m1_ds_top_decline",
      "displayName": "Top Decline Reasons",
      "queryLines": [
        "SELECT decline_reason, decline_count, pct_of_declines, avg_fraud_score, avg_amount, total_declined_value, affected_merchants, low_risk_declines, recoverable_pct FROM __CATALOG__.__SCHEMA__.v_top_decline_reasons ORDER BY decline_count DESC"
      ]
    },
    {
      "name": "m1_ds_recovery",
      "displayName": "Decline Recovery Opportunities",
      "queryLines": [
        "SELECT decline_reason, merchant_segment, card_network, decline_count, potential_recovery_value, avg_fraud_score, avg_device_trust, recovery_likelihood, recommended_action FROM __CATALOG__.__SCHEMA__.v_decline_recovery_opportunities ORDER BY potential_recovery_value DESC LIMIT 100"
      ]
    },
    {
      "name": "m2_ds_fraud_kpis",
      "displayName": "Fraud & Risk KPIs",
      "queryLines": [
        "SELECT total_transactions, approved_count, declined_count, avg_fraud_score, avg_aml_risk_score, total_transaction_value FROM __CATALOG__.__SCHEMA__.v_executive_kpis LIMIT 1"
      ]
    },
    {
      "name": "m2_ds_decline_risk",
      "displayName": "Declines by Fraud Score",
      "queryLines": [
        "SELECT decline_reason, decline_count, avg_fraud_score, total_declined_value, recoverable_pct FROM __CATALOG__.__SCHEMA__.v_top_decline_reasons ORDER BY decline_count DESC"
      ]
    },
    {
      "name": "m3_ds_auth_kpis",
      "displayName": "3DS Usage",
      "queryLines": [
        "SELECT total_transactions, auth_3ds_usage_pct, approval_rate_pct, avg_fraud_score FROM __CATALOG__.__SCHEMA__.v_executive_kpis LIMIT 1"
      ]
    },
    {
      "name": "m3_ds_merchant_auth",
      "displayName": "Auth by Segment",
      "queryLines": [
        "SELECT merchant_segment, transaction_count, approval_rate_pct, auth_3ds_usage_pct FROM __CATALOG__.__SCHEMA__.v_merchant_segment_performance ORDER BY transaction_count DESC"
      ]
    },
    {
      "name": "m4_ds_financial",
      "displayName": "Transaction Value",
      "queryLines": [
        "SELECT total_transaction_value, approved_value, declined_value, avg_transaction_amount, total_transactions, approved_count, declined_count FROM __CATALOG__.__SCHEMA__.v_executive_kpis LIMIT 1"
      ]
    },
    {
      "name": "m4_ds_decline_value",
      "displayName": "Declined Value by Reason",
      "queryLines": [
        "SELECT decline_reason, total_declined_value, decline_count, recoverable_pct FROM __CATALOG__.__SCHEMA__.v_top_decline_reasons ORDER BY total_declined_value DESC"
      ]
    }
  ],
  "pages": [
    {
      "name": "page_routing",
      "displayName": "Smart Routing & Optimization",
      "layout": [
        {
          "widget": {
            "name": "routing_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_routing", "fields": [{"name": "payment_solution", "expression": "`payment_solution`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "payment_solution", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Payment Solution", "axis": {"title": "Payment Solution"}}, "y": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count", "axis": {"title": "Transaction Count"}}}, "frame": {"showTitle": true, "title": "Solution Performance by Volume", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 6, "height": 4}
        },
        {
          "widget": {
            "name": "network_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_card_network", "fields": [{"name": "card_network", "expression": "`card_network`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "card_network", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Card Network", "axis": {"title": "Card Network"}}, "y": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count", "axis": {"title": "Transaction Count"}}}, "frame": {"showTitle": true, "title": "Card Network Performance", "showDescription": false}}
          },
          "position": {"x": 6, "y": 0, "width": 6, "height": 4}
        },
        {
          "widget": {
            "name": "routing_approval_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_routing", "fields": [{"name": "payment_solution", "expression": "`payment_solution`"}, {"name": "sum(approval_rate_pct)", "expression": "SUM(`approval_rate_pct`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "payment_solution", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Payment Solution", "axis": {"title": "Payment Solution"}}, "y": {"fieldName": "sum(approval_rate_pct)", "scale": {"type": "quantitative"}, "displayName": "Approval Rate %", "axis": {"title": "Approval Rate %"}}}, "frame": {"showTitle": true, "title": "Approval Rate by Solution", "showDescription": false}}
          },
          "position": {"x": 0, "y": 4, "width": 6, "height": 4}
        },
        {
          "widget": {
            "name": "network_approval_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_card_network", "fields": [{"name": "card_network", "expression": "`card_network`"}, {"name": "sum(approval_rate_pct)", "expression": "SUM(`approval_rate_pct`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "card_network", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Card Network", "axis": {"title": "Card Network"}}, "y": {"fieldName": "sum(approval_rate_pct)", "scale": {"type": "quantitative"}, "displayName": "Approval Rate %", "axis": {"title": "Approval Rate %"}}}, "frame": {"showTitle": true, "title": "Approval Rate by Network", "showDescription": false}}
          },
          "position": {"x": 6, "y": 4, "width": 6, "height": 4}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_decline",
      "displayName": "Decline Analysis & Recovery",
      "layout": [
        {
          "widget": {
            "name": "c09102716ecf",
            "queries": [{"name": "main_query", "query": {"datasetName": "m1_ds_top_decline", "fields": [{"name": "decline_reason", "expression": "`decline_reason`"}, {"name": "sum(decline_count)", "expression": "SUM(`decline_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "decline_reason", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Decline Reason", "axis": {"title": "Decline Reason"}}, "y": {"fieldName": "sum(decline_count)", "scale": {"type": "quantitative"}, "displayName": "Decline Count", "axis": {"title": "Decline Count"}}}, "frame": {"showTitle": true, "title": "Top Decline Reasons", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 12, "height": 4}
        },
        {
          "widget": {
            "name": "483b2f87c43d",
            "queries": [{"name": "main_query", "query": {"datasetName": "m1_ds_recovery", "fields": [{"name": "decline_reason", "expression": "`decline_reason`"}, {"name": "merchant_segment", "expression": "`merchant_segment`"}, {"name": "sum(decline_count)", "expression": "SUM(`decline_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "heatmap", "encodings": {"x": {"fieldName": "decline_reason", "scale": {"type": "categorical"}, "displayName": "Decline Reason", "axis": {"title": "Decline Reason"}}, "y": {"fieldName": "merchant_segment", "scale": {"type": "categorical"}, "displayName": "Merchant Segment", "axis": {"title": "Merchant Segment"}}, "color": {"fieldName": "sum(decline_count)", "scale": {"type": "quantitative"}, "displayName": "Decline Count"}}, "frame": {"showTitle": true, "title": "Decline Recovery Opportunities (Heatmap)", "showDescription": false}}
          },
          "position": {"x": 0, "y": 4, "width": 12, "height": 5}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_fraud",
      "displayName": "Fraud & Risk Analysis",
      "layout": [
        {
          "widget": {
            "name": "ctr_fraud_score",
            "queries": [{"name": "main_query", "query": {"datasetName": "m2_ds_fraud_kpis", "fields": [{"name": "avg_fraud_score", "expression": "`avg_fraud_score`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "avg_fraud_score", "displayName": "Avg Fraud Score"}}, "frame": {"showTitle": true, "title": "Avg Fraud Score", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 4, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_aml_risk",
            "queries": [{"name": "main_query", "query": {"datasetName": "m2_ds_fraud_kpis", "fields": [{"name": "avg_aml_risk_score", "expression": "`avg_aml_risk_score`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "avg_aml_risk_score", "displayName": "Avg AML Risk Score"}}, "frame": {"showTitle": true, "title": "Avg AML Risk Score", "showDescription": false}}
          },
          "position": {"x": 4, "y": 0, "width": 4, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_fraud_declined",
            "queries": [{"name": "main_query", "query": {"datasetName": "m2_ds_fraud_kpis", "fields": [{"name": "declined_count", "expression": "`declined_count`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "declined_count", "displayName": "Declined Count"}}, "frame": {"showTitle": true, "title": "Declined Transactions", "showDescription": false}}
          },
          "position": {"x": 8, "y": 0, "width": 4, "height": 2}
        },
        {
          "widget": {
            "name": "73bafc0d400d",
            "queries": [{"name": "main_query", "query": {"datasetName": "m2_ds_decline_risk", "fields": [{"name": "decline_reason", "expression": "`decline_reason`"}, {"name": "sum(decline_count)", "expression": "SUM(`decline_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "decline_reason", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Decline Reason", "axis": {"title": "Decline Reason"}}, "y": {"fieldName": "sum(decline_count)", "scale": {"type": "quantitative"}, "displayName": "Decline Count", "axis": {"title": "Decline Count"}}}, "frame": {"showTitle": true, "title": "Declines by Fraud Risk", "showDescription": false}}
          },
          "position": {"x": 0, "y": 2, "width": 12, "height": 4}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_auth",
      "displayName": "3DS Authentication & Security Analysis",
      "layout": [
        {
          "widget": {
            "name": "ctr_3ds_usage",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_auth_kpis", "fields": [{"name": "auth_3ds_usage_pct", "expression": "`auth_3ds_usage_pct`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "auth_3ds_usage_pct", "displayName": "3DS Usage %"}}, "frame": {"showTitle": true, "title": "3DS Usage %", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 4, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_auth_approval",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_auth_kpis", "fields": [{"name": "approval_rate_pct", "expression": "`approval_rate_pct`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "approval_rate_pct", "displayName": "Approval Rate %"}}, "frame": {"showTitle": true, "title": "Approval Rate %", "showDescription": false}}
          },
          "position": {"x": 4, "y": 0, "width": 4, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_auth_fraud",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_auth_kpis", "fields": [{"name": "avg_fraud_score", "expression": "`avg_fraud_score`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "avg_fraud_score", "displayName": "Avg Fraud Score"}}, "frame": {"showTitle": true, "title": "Avg Fraud Score", "showDescription": false}}
          },
          "position": {"x": 8, "y": 0, "width": 4, "height": 2}
        },
        {
          "widget": {
            "name": "auth_segment_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_merchant_auth", "fields": [{"name": "merchant_segment", "expression": "`merchant_segment`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "merchant_segment", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Merchant Segment", "axis": {"title": "Merchant Segment"}}, "y": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count", "axis": {"title": "Transaction Count"}}}, "frame": {"showTitle": true, "title": "Transaction Volume by Merchant Segment", "showDescription": false}}
          },
          "position": {"x": 0, "y": 2, "width": 6, "height": 4}
        },
        {
          "widget": {
            "name": "auth_approval_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_merchant_auth", "fields": [{"name": "merchant_segment", "expression": "`merchant_segment`"}, {"name": "sum(approval_rate_pct)", "expression": "SUM(`approval_rate_pct`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "merchant_segment", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Merchant Segment", "axis": {"title": "Merchant Segment"}}, "y": {"fieldName": "sum(approval_rate_pct)", "scale": {"type": "quantitative"}, "displayName": "Approval Rate %", "axis": {"title": "Approval Rate %"}}}, "frame": {"showTitle": true, "title": "Approval Rate by Merchant Segment", "showDescription": false}}
          },
          "position": {"x": 6, "y": 2, "width": 6, "height": 4}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_financial",
      "displayName": "Financial Impact & ROI Analysis",
      "layout": [
        {
          "widget": {
            "name": "ctr_fin_total",
            "queries": [{"name": "main_query", "query": {"datasetName": "m4_ds_financial", "fields": [{"name": "total_transaction_value", "expression": "`total_transaction_value`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "total_transaction_value", "displayName": "Total Value"}}, "frame": {"showTitle": true, "title": "Total Transaction Value", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_fin_approved",
            "queries": [{"name": "main_query", "query": {"datasetName": "m4_ds_financial", "fields": [{"name": "approved_value", "expression": "`approved_value`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "approved_value", "displayName": "Approved Value"}}, "frame": {"showTitle": true, "title": "Approved Value", "showDescription": false}}
          },
          "position": {"x": 3, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_fin_declined",
            "queries": [{"name": "main_query", "query": {"datasetName": "m4_ds_financial", "fields": [{"name": "declined_value", "expression": "`declined_value`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "declined_value", "displayName": "Declined Value"}}, "frame": {"showTitle": true, "title": "Declined Value", "showDescription": false}}
          },
          "position": {"x": 6, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_fin_avg",
            "queries": [{"name": "main_query", "query": {"datasetName": "m4_ds_financial", "fields": [{"name": "avg_transaction_amount", "expression": "`avg_transaction_amount`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "avg_transaction_amount", "displayName": "Avg Transaction Amount"}}, "frame": {"showTitle": true, "title": "Avg Transaction Amount", "showDescription": false}}
          },
          "position": {"x": 9, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "5737c4841382",
            "queries": [{"name": "main_query", "query": {"datasetName": "m4_ds_decline_value", "fields": [{"name": "decline_reason", "expression": "`decline_reason`"}, {"name": "sum(total_declined_value)", "expression": "SUM(`total_declined_value`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "decline_reason", "scale": {"type": "categorical", "sort": {"by": "y-reversed"}}, "displayName": "Decline Reason", "axis": {"title": "Decline Reason"}}, "y": {"fieldName": "sum(total_declined_value)", "scale": {"type": "quantitative"}, "displayName": "Total Declined Value", "axis": {"title": "Total Declined Value"}}}, "frame": {"showTitle": true, "title": "Declined Value by Reason", "showDescription": false}}
          },
          "position": {"x": 0, "y": 2, "width": 12, "height": 4}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ]
}
