{
  "version": "1.0",
  "name": "Daily Trends Dashboard",
  "displayName": "Daily Trends & Historical Analysis",
  "description": "Historical trends and day-over-day performance analysis",
  "tags": ["trends", "historical", "daily", "analytics"],
  "pages": [
    {
      "name": "daily_trends",
      "displayName": "Daily Trends",
      "layout": [
        {
          "widget": {
            "name": "header",
            "textbox_spec": "## Daily Trends & Historical Analysis\n\n90-day historical performance and trend analysis"
          },
          "position": { "x": 0, "y": 0, "width": 12, "height": 2 }
        },
        {
          "widget": {
            "name": "period_start",
            "queries": [
              {
                "name": "period_kpi",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_executive_kpis",
                  "query_text": "SELECT period_start, period_end FROM v_executive_kpis LIMIT 1",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "period_start",
                  "displayName": "Data Start"
                }
              }
            }
          },
          "position": { "x": 0, "y": 2, "width": 6, "height": 4 }
        },
        {
          "widget": {
            "name": "period_end",
            "queries": [
              {
                "name": "period_end_kpi",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_executive_kpis",
                  "query_text": "SELECT period_end FROM v_executive_kpis LIMIT 1",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "period_end",
                  "displayName": "Data End"
                }
              }
            }
          },
          "position": { "x": 6, "y": 2, "width": 6, "height": 4 }
        },
        {
          "widget": {
            "name": "daily_volume_trend",
            "queries": [
              {
                "name": "daily_volume_query",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_daily_trends",
                  "query_text": "SELECT event_date, transactions FROM v_daily_trends ORDER BY event_date",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "area-chart",
              "encodings": {
                "x": { "fieldName": "event_date", "displayName": "Date" },
                "y": [
                  { "fieldName": "transactions", "displayName": "Transactions" }
                ]
              }
            }
          },
          "position": { "x": 0, "y": 6, "width": 12, "height": 8 }
        },
        {
          "widget": {
            "name": "daily_approval_trend",
            "queries": [
              {
                "name": "daily_approval_query",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_daily_trends",
                  "query_text": "SELECT event_date, approval_rate FROM v_daily_trends ORDER BY event_date",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "line-chart",
              "encodings": {
                "x": { "fieldName": "event_date", "displayName": "Date" },
                "y": [
                  { "fieldName": "approval_rate", "displayName": "Approval Rate %" }
                ]
              }
            }
          },
          "position": { "x": 0, "y": 14, "width": 6, "height": 8 }
        },
        {
          "widget": {
            "name": "daily_value_trend",
            "queries": [
              {
                "name": "daily_value_query",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_daily_trends",
                  "query_text": "SELECT event_date, total_value FROM v_daily_trends ORDER BY event_date",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "area-chart",
              "encodings": {
                "x": { "fieldName": "event_date", "displayName": "Date" },
                "y": [
                  { "fieldName": "total_value", "displayName": "Total Value ($)" }
                ]
              }
            }
          },
          "position": { "x": 6, "y": 14, "width": 6, "height": 8 }
        },
        {
          "widget": {
            "name": "daily_fraud_trend",
            "queries": [
              {
                "name": "daily_fraud_query",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_daily_trends",
                  "query_text": "SELECT event_date, avg_fraud_score FROM v_daily_trends ORDER BY event_date",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "line-chart",
              "encodings": {
                "x": { "fieldName": "event_date", "displayName": "Date" },
                "y": [
                  { "fieldName": "avg_fraud_score", "displayName": "Avg Fraud Score" }
                ]
              }
            }
          },
          "position": { "x": 0, "y": 22, "width": 12, "height": 8 }
        },
        {
          "widget": {
            "name": "daily_details",
            "queries": [
              {
                "name": "daily_detail_query",
                "query": {
                  "datasetName": "main.dev_ariel_hdez_payment_analysis_dev.v_daily_trends",
                  "query_text": "SELECT event_date, transactions, approval_rate, avg_fraud_score, total_value, dod_volume_change FROM v_daily_trends ORDER BY event_date DESC LIMIT 30",
                  "warehouse_id": "3fef3d3419b56344"
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  { "fieldName": "event_date", "displayName": "Date" },
                  { "fieldName": "transactions", "displayName": "Transactions" },
                  { "fieldName": "approval_rate", "displayName": "Approval %" },
                  { "fieldName": "avg_fraud_score", "displayName": "Fraud Score" },
                  { "fieldName": "total_value", "displayName": "Total Value" },
                  { "fieldName": "dod_volume_change", "displayName": "DoD Change" }
                ]
              }
            }
          },
          "position": { "x": 0, "y": 30, "width": 12, "height": 10 }
        }
      ]
    }
  ],
  "datasets": []
}
