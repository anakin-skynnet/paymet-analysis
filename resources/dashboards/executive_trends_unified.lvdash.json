{
  "datasets": [
    {
      "name": "m0_ds_exec_kpis",
      "displayName": "Executive KPIs",
      "queryLines": [
        "SELECT total_transactions, approved_count, declined_count, approval_rate_pct, avg_fraud_score, total_transaction_value, approved_value, declined_value, avg_transaction_amount, auth_3ds_usage_pct, period_start, period_end FROM __CATALOG__.__SCHEMA__.v_executive_kpis LIMIT 1"
      ]
    },
    {
      "name": "m0_ds_approval_trends",
      "displayName": "Approval Trends (Real-Time)",
      "queryLines": [
        "SELECT event_second, transaction_count, approved_count, approval_rate_pct, avg_fraud_score, total_value FROM __CATALOG__.__SCHEMA__.v_approval_trends_by_second ORDER BY event_second DESC"
      ]
    },
    {
      "name": "m0_ds_solution_perf",
      "displayName": "Solution Performance",
      "queryLines": [
        "SELECT payment_solution, transaction_count, approved_count, approval_rate_pct, avg_fraud_score, avg_amount, total_value, avg_latency_ms FROM __CATALOG__.__SCHEMA__.v_solution_performance ORDER BY transaction_count DESC"
      ]
    },
    {
      "name": "m0_ds_geography",
      "displayName": "Performance by Geography",
      "queryLines": [
        "SELECT country, transaction_count, approval_rate_pct, avg_fraud_score, total_transaction_value, unique_merchants FROM __CATALOG__.__SCHEMA__.v_performance_by_geography ORDER BY transaction_count DESC LIMIT 50"
      ]
    },
    {
      "name": "m1_ds_daily",
      "displayName": "Daily Trends",
      "queryLines": [
        "SELECT event_date, transactions, approval_rate, avg_fraud_score, total_value, dod_volume_change FROM __CATALOG__.__SCHEMA__.v_daily_trends ORDER BY event_date DESC LIMIT 90"
      ]
    },
    {
      "name": "m1_ds_by_second",
      "displayName": "Real-Time Approval Trends (by second)",
      "queryLines": [
        "SELECT event_second, transaction_count, approved_count, approval_rate_pct, avg_fraud_score, total_value FROM __CATALOG__.__SCHEMA__.v_approval_trends_by_second ORDER BY event_second DESC"
      ]
    },
    {
      "name": "m2_ds_merchant_segment",
      "displayName": "Merchant Segment Performance",
      "queryLines": [
        "SELECT merchant_segment, transaction_count, approval_rate_pct, unique_merchants, avg_transaction_amount, total_value, avg_fraud_score, auth_3ds_usage_pct FROM __CATALOG__.__SCHEMA__.v_merchant_segment_performance ORDER BY transaction_count DESC"
      ]
    },
    {
      "name": "m3_ds_latency",
      "displayName": "Latency by Solution",
      "queryLines": [
        "SELECT payment_solution, avg_latency_ms, transaction_count, approval_rate_pct FROM __CATALOG__.__SCHEMA__.v_solution_performance ORDER BY avg_latency_ms DESC"
      ]
    },
    {
      "name": "m3_ds_network_latency",
      "displayName": "Latency by Card Network",
      "queryLines": [
        "SELECT card_network, avg_latency_ms, transaction_count FROM __CATALOG__.__SCHEMA__.v_card_network_performance ORDER BY avg_latency_ms DESC"
      ]
    }
  ],
  "pages": [
    {
      "name": "page_overview",
      "displayName": "Executive Overview",
      "layout": [
        {
          "widget": {
            "name": "ctr_total_txns",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "total_transactions", "expression": "`total_transactions`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "total_transactions", "displayName": "Total Transactions"}}, "frame": {"showTitle": true, "title": "Total Transactions", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_approval_rate",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "approval_rate_pct", "expression": "`approval_rate_pct`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "approval_rate_pct", "displayName": "Approval Rate %"}}, "frame": {"showTitle": true, "title": "Approval Rate %", "showDescription": false}}
          },
          "position": {"x": 3, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_fraud_score",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "avg_fraud_score", "expression": "`avg_fraud_score`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "avg_fraud_score", "displayName": "Avg Fraud Score"}}, "frame": {"showTitle": true, "title": "Avg Fraud Score", "showDescription": false}}
          },
          "position": {"x": 6, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_total_value",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "total_transaction_value", "expression": "`total_transaction_value`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "total_transaction_value", "displayName": "Total Value"}}, "frame": {"showTitle": true, "title": "Total Transaction Value", "showDescription": false}}
          },
          "position": {"x": 9, "y": 0, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_approved",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "approved_count", "expression": "`approved_count`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "approved_count", "displayName": "Approved"}}, "frame": {"showTitle": true, "title": "Approved Count", "showDescription": false}}
          },
          "position": {"x": 0, "y": 2, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_declined",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "declined_count", "expression": "`declined_count`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "declined_count", "displayName": "Declined"}}, "frame": {"showTitle": true, "title": "Declined Count", "showDescription": false}}
          },
          "position": {"x": 3, "y": 2, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_approved_value",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "approved_value", "expression": "`approved_value`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "approved_value", "displayName": "Approved Value"}}, "frame": {"showTitle": true, "title": "Approved Value", "showDescription": false}}
          },
          "position": {"x": 6, "y": 2, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "ctr_3ds_usage",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_exec_kpis", "fields": [{"name": "auth_3ds_usage_pct", "expression": "`auth_3ds_usage_pct`"}], "disaggregated": true}}],
            "spec": {"version": 3, "widgetType": "counter", "encodings": {"value": {"fieldName": "auth_3ds_usage_pct", "displayName": "3DS Usage %"}}, "frame": {"showTitle": true, "title": "3DS Usage %", "showDescription": false}}
          },
          "position": {"x": 9, "y": 2, "width": 3, "height": 2}
        },
        {
          "widget": {
            "name": "line_realtime_trends",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_approval_trends", "fields": [{"name": "event_second", "expression": "`event_second`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}, {"name": "sum(approval_rate_pct)", "expression": "SUM(`approval_rate_pct`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "line", "encodings": {"x": {"fieldName": "event_second", "scale": {"type": "temporal"}, "displayName": "Time", "axis": {"title": "Time"}}, "y": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count", "axis": {"title": "Transaction Count"}}}, "frame": {"showTitle": true, "title": "Real-Time Approval Trends", "showDescription": false}}
          },
          "position": {"x": 0, "y": 4, "width": 12, "height": 5}
        },
        {
          "widget": {
            "name": "bar_solution_perf",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_solution_perf", "fields": [{"name": "payment_solution", "expression": "`payment_solution`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count", "axis": {"title": "Transaction Count"}}, "y": {"fieldName": "payment_solution", "scale": {"type": "categorical", "sort": {"by": "x-reversed"}}, "displayName": "Payment Solution", "axis": {"title": "Payment Solution"}}}, "frame": {"showTitle": true, "title": "Solution Performance (by Volume)", "showDescription": false}}
          },
          "position": {"x": 0, "y": 9, "width": 6, "height": 5}
        },
        {
          "widget": {
            "name": "map_geography",
            "queries": [{"name": "main_query", "query": {"datasetName": "m0_ds_geography", "fields": [{"name": "country", "expression": "`country`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "choropleth", "encodings": {"color": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count"}, "region": {"fieldName": "country", "displayName": "Country"}}, "frame": {"showTitle": true, "title": "Performance by Geography", "showDescription": false}}
          },
          "position": {"x": 6, "y": 9, "width": 6, "height": 5}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_trends",
      "displayName": "Daily Trends & Historical Analysis",
      "layout": [
        {
          "widget": {
            "name": "daily_volume_line",
            "queries": [{"name": "main_query", "query": {"datasetName": "m1_ds_daily", "fields": [{"name": "event_date", "expression": "`event_date`"}, {"name": "transactions", "expression": "`transactions`"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "line", "encodings": {"x": {"fieldName": "event_date", "scale": {"type": "temporal"}, "displayName": "Date", "axis": {"title": "Date"}}, "y": {"fieldName": "transactions", "scale": {"type": "quantitative"}, "displayName": "Daily Transactions", "axis": {"title": "Daily Transactions"}}}, "frame": {"showTitle": true, "title": "Daily Transaction Volume (90 days)", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 12, "height": 4}
        },
        {
          "widget": {
            "name": "daily_approval_line",
            "queries": [{"name": "main_query", "query": {"datasetName": "m1_ds_daily", "fields": [{"name": "event_date", "expression": "`event_date`"}, {"name": "approval_rate", "expression": "`approval_rate`"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "line", "encodings": {"x": {"fieldName": "event_date", "scale": {"type": "temporal"}, "displayName": "Date", "axis": {"title": "Date"}}, "y": {"fieldName": "approval_rate", "scale": {"type": "quantitative"}, "displayName": "Approval Rate %", "axis": {"title": "Approval Rate %"}}}, "frame": {"showTitle": true, "title": "Daily Approval Rate", "showDescription": false}}
          },
          "position": {"x": 0, "y": 4, "width": 6, "height": 4}
        },
        {
          "widget": {
            "name": "daily_fraud_line",
            "queries": [{"name": "main_query", "query": {"datasetName": "m1_ds_daily", "fields": [{"name": "event_date", "expression": "`event_date`"}, {"name": "avg_fraud_score", "expression": "`avg_fraud_score`"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "line", "encodings": {"x": {"fieldName": "event_date", "scale": {"type": "temporal"}, "displayName": "Date", "axis": {"title": "Date"}}, "y": {"fieldName": "avg_fraud_score", "scale": {"type": "quantitative"}, "displayName": "Avg Fraud Score", "axis": {"title": "Avg Fraud Score"}}}, "frame": {"showTitle": true, "title": "Daily Avg Fraud Score", "showDescription": false}}
          },
          "position": {"x": 6, "y": 4, "width": 6, "height": 4}
        },
        {
          "widget": {
            "name": "realtime_by_second",
            "queries": [{"name": "main_query", "query": {"datasetName": "m1_ds_by_second", "fields": [{"name": "event_second", "expression": "`event_second`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "area", "encodings": {"x": {"fieldName": "event_second", "scale": {"type": "temporal"}, "displayName": "Time", "axis": {"title": "Time"}}, "y": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transactions/sec", "axis": {"title": "Transactions per Second"}}}, "frame": {"showTitle": true, "title": "Real-Time Volume by Second", "showDescription": false}}
          },
          "position": {"x": 0, "y": 8, "width": 12, "height": 4}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_merchant",
      "displayName": "Merchant Performance & Segmentation",
      "layout": [
        {
          "widget": {
            "name": "merchant_bar_txn",
            "queries": [{"name": "main_query", "query": {"datasetName": "m2_ds_merchant_segment", "fields": [{"name": "merchant_segment", "expression": "`merchant_segment`"}, {"name": "sum(transaction_count)", "expression": "SUM(`transaction_count`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "sum(transaction_count)", "scale": {"type": "quantitative"}, "displayName": "Transaction Count", "axis": {"title": "Transaction Count"}}, "y": {"fieldName": "merchant_segment", "scale": {"type": "categorical", "sort": {"by": "x-reversed"}}, "displayName": "Merchant Segment", "axis": {"title": "Merchant Segment"}}}, "frame": {"showTitle": true, "title": "Volume by Merchant Segment", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 6, "height": 5}
        },
        {
          "widget": {
            "name": "merchant_bar_approval",
            "queries": [{"name": "main_query", "query": {"datasetName": "m2_ds_merchant_segment", "fields": [{"name": "merchant_segment", "expression": "`merchant_segment`"}, {"name": "sum(approval_rate_pct)", "expression": "SUM(`approval_rate_pct`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "sum(approval_rate_pct)", "scale": {"type": "quantitative"}, "displayName": "Approval Rate %", "axis": {"title": "Approval Rate %"}}, "y": {"fieldName": "merchant_segment", "scale": {"type": "categorical", "sort": {"by": "x-reversed"}}, "displayName": "Merchant Segment", "axis": {"title": "Merchant Segment"}}}, "frame": {"showTitle": true, "title": "Approval Rate by Merchant Segment", "showDescription": false}}
          },
          "position": {"x": 6, "y": 0, "width": 6, "height": 5}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "page_perf",
      "displayName": "Technical Performance & Latency Analysis",
      "layout": [
        {
          "widget": {
            "name": "latency_solution_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_latency", "fields": [{"name": "payment_solution", "expression": "`payment_solution`"}, {"name": "sum(avg_latency_ms)", "expression": "SUM(`avg_latency_ms`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "sum(avg_latency_ms)", "scale": {"type": "quantitative"}, "displayName": "Avg Latency (ms)", "axis": {"title": "Avg Latency (ms)"}}, "y": {"fieldName": "payment_solution", "scale": {"type": "categorical", "sort": {"by": "x-reversed"}}, "displayName": "Payment Solution", "axis": {"title": "Payment Solution"}}}, "frame": {"showTitle": true, "title": "Latency by Payment Solution", "showDescription": false}}
          },
          "position": {"x": 0, "y": 0, "width": 6, "height": 5}
        },
        {
          "widget": {
            "name": "latency_network_bar",
            "queries": [{"name": "main_query", "query": {"datasetName": "m3_ds_network_latency", "fields": [{"name": "card_network", "expression": "`card_network`"}, {"name": "sum(avg_latency_ms)", "expression": "SUM(`avg_latency_ms`)"}], "disaggregated": false}}],
            "spec": {"version": 3, "widgetType": "bar", "encodings": {"x": {"fieldName": "sum(avg_latency_ms)", "scale": {"type": "quantitative"}, "displayName": "Avg Latency (ms)", "axis": {"title": "Avg Latency (ms)"}}, "y": {"fieldName": "card_network", "scale": {"type": "categorical", "sort": {"by": "x-reversed"}}, "displayName": "Card Network", "axis": {"title": "Card Network"}}}, "frame": {"showTitle": true, "title": "Latency by Card Network", "showDescription": false}}
          },
          "position": {"x": 6, "y": 0, "width": 6, "height": 5}
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ]
}
