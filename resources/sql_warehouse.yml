# =============================================================================
# SQL Warehouse
# =============================================================================
# Single PRO warehouse for ad-hoc SQL, dashboard queries, and SQL tasks (e.g. gold views).
# Name and tags use var.environment. Referenced by dashboards (var.warehouse_id) and jobs.
# =============================================================================

resources:
  sql_warehouses:
    payment_analysis_warehouse:
      name: "[${var.environment}] Payment Analysis Warehouse"
      cluster_size: "2X-Small"
      auto_stop_mins: 10
      enable_serverless_compute: true
      warehouse_type: "PRO"
      tags:
        custom_tags:
          - key: environment
            value: ${var.environment}
          - key: project
            value: payment-analysis
          - key: domain
            value: payment-analytics
