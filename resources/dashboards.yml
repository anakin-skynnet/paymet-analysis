# =============================================================================
# AI/BI Dashboards - Payment Approval Analytics
# =============================================================================
# Ten dashboards backed by Unity Catalog gold views. Catalog/schema are defaulted
# in each dashboard JSON; warehouse_id comes from var (set at deploy, e.g. from
# SQL warehouse resource in dev). Dashboards are created under workspace root.
# =============================================================================

resources:
  dashboards:
    # High-level KPIs and trends for executives
    executive_overview:
      display_name: "[${var.environment}] Executive Overview - Payment Analysis"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/executive_overview.lvdash.json

    # Decline patterns, recovery opportunities, retry performance
    decline_analysis:
      display_name: "[${var.environment}] Decline Analysis & Recovery"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/decline_analysis.lvdash.json

    # Live system health, last-hour metrics, active alerts
    realtime_monitoring:
      display_name: "[${var.environment}] Real-Time Payment Monitoring"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/realtime_monitoring.lvdash.json

    # Fraud and risk metrics, AML, 3DS correlation
    fraud_risk_analysis:
      display_name: "[${var.environment}] Fraud & Risk Analysis"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/fraud_risk_analysis.lvdash.json

    # Merchant segments, geography, approval by segment
    merchant_performance:
      display_name: "[${var.environment}] Merchant Performance & Segmentation"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/merchant_performance.lvdash.json

    # Solution and network performance, retry effectiveness, recovery
    routing_optimization:
      display_name: "[${var.environment}] Smart Routing & Optimization"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/routing_optimization.lvdash.json

    # Historical trends, daily volume, approval and value over time
    daily_trends:
      display_name: "[${var.environment}] Daily Trends & Historical Analysis"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/daily_trends.lvdash.json

    # 3DS adoption, authentication lift, security metrics
    authentication_security:
      display_name: "[${var.environment}] 3DS Authentication & Security Analysis"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/authentication_security.lvdash.json

    # Financial impact, approved/declined value, recovery ROI
    financial_impact:
      display_name: "[${var.environment}] Financial Impact & ROI Analysis"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/financial_impact.lvdash.json

    # Latency, P95/P99, SLA, performance by solution/network
    performance_latency:
      display_name: "[${var.environment}] Technical Performance & Latency Analysis"
      warehouse_id: ${var.warehouse_id}
      parent_path: ${workspace.root_path}/dashboards
      embed_credentials: true
      file_path: ../src/payment_analysis/dashboards/performance_latency.lvdash.json
